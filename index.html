<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Particle Simulation</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <canvas id="canvas"></canvas>
  
  <button id="sidebar-toggle" class="sidebar-toggle" aria-label="Toggle settings">
    <svg class="icon-menu" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
    <svg class="icon-close" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="18" y1="6" x2="6" y2="18"></line>
      <line x1="6" y1="6" x2="18" y2="18"></line>
    </svg>
  </button>
  
  <div id="sidebar" class="sidebar collapsed">
    <div class="sidebar-content">
      <h2>Settings</h2>
      
      <section class="setting-group">
        <label for="particle-count">Count <span id="particle-count-display">100</span></label>
        <div class="input-row">
          <input type="range" id="particle-count" min="10" max="2500" value="100" step="10">
          <input type="number" id="particle-count-input" min="10" max="2500" value="100" step="10">
        </div>
      </section>
      
      <section class="setting-group">
        <label>Matrix</label>
        <p class="hint">Row i → Col j attraction</p>
        <div id="matrix-container" class="matrix-container"></div>
        <div class="particle-types-controls">
          <div id="particle-type-dots" class="particle-type-dots"></div>
          <button id="add-particle-type" class="add-type-btn" aria-label="Add type">+</button>
        </div>
        <button id="randomize-matrix" class="btn">Randomize</button>
      </section>
      
      <section class="setting-group">
        <label>Background</label>
        <div class="color-options">
          <label class="radio-label">
            <input type="radio" name="bg-color" value="#000000" checked>
            <span class="color-preview dark"></span>
            Dark
          </label>
          <label class="radio-label">
            <input type="radio" name="bg-color" value="#ffffff">
            <span class="color-preview light"></span>
            Light
          </label>
        </div>
      </section>
      
      <section class="setting-group">
        <label>Colors</label>
        <div class="color-scheme-options">
          <label class="radio-label">
            <input type="radio" name="color-scheme" value="neon" checked>
            <span class="scheme-preview neon"></span>
            Neon
          </label>
          <label class="radio-label">
            <input type="radio" name="color-scheme" value="pastel">
            <span class="scheme-preview pastel"></span>
            Pastel
          </label>
          <label class="radio-label">
            <input type="radio" name="color-scheme" value="warm">
            <span class="scheme-preview warm"></span>
            Warm
          </label>
          <label class="radio-label">
            <input type="radio" name="color-scheme" value="cool">
            <span class="scheme-preview cool"></span>
            Cool
          </label>
          <label class="radio-label">
            <input type="radio" name="color-scheme" value="monochrome">
            <span class="scheme-preview monochrome"></span>
            Monochrome
          </label>
        </div>
      </section>
      
      <section class="setting-group">
        <label>Algorithm</label>
        <label class="checkbox-label">
          <input type="checkbox" id="brute-force-toggle" checked>
          <span>Accurate O(n²)</span>
        </label>
        <p class="hint">All particles interact. Uncheck for spatial hashing.</p>
      </section>
      
      <section class="setting-group">
        <label for="force-falloff">Falloff <span id="force-falloff-display">2.0</span></label>
        <div class="input-row">
          <input type="range" id="force-falloff" min="0.5" max="4" value="2" step="0.1">
          <input type="number" id="force-falloff-input" min="0.5" max="4" value="2" step="0.1">
        </div>
        <p class="hint">Force distance falloff exponent</p>
      </section>
      
      <section class="setting-group">
        <label for="particle-radius">Size <span id="particle-radius-display">4</span></label>
        <div class="input-row">
          <input type="range" id="particle-radius" min="1" max="20" value="4" step="1">
          <input type="number" id="particle-radius-input" min="1" max="20" value="4" step="1">
        </div>
        <p class="hint">Particle visual and physics radius</p>
      </section>
      
      <section id="interaction-radius-section" class="setting-group" style="display: none;">
        <label for="interaction-radius">Radius <span id="interaction-radius-display">300</span></label>
        <div class="input-row">
          <input type="range" id="interaction-radius" min="20" max="1000" value="300" step="10">
          <input type="number" id="interaction-radius-input" min="20" max="1000" value="300" step="10">
        </div>
        <p class="hint">Max interaction distance (spatial hash only)</p>
      </section>
      
      <section class="setting-group">
        <button id="reset-settings" class="btn">Reset</button>
      </section>
    </div>
  </div>
  
  <div id="fps-counter" class="fps-counter">FPS: --</div>
  
  <div id="zoom-controls" class="zoom-controls">
    <button id="zoom-out" class="zoom-btn" aria-label="Zoom out">−</button>
    <input type="range" id="zoom-slider" min="0.25" max="4" step="0.05" value="1">
    <button id="zoom-in" class="zoom-btn" aria-label="Zoom in">+</button>
    <span id="zoom-display" class="zoom-display">100%</span>
  </div>
  
  <script type="module" src="src/main.js"></script>
</body>
</html>
